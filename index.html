<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iframe с загрузкой</title>
    <style>
        /* Сброс отступов и полос прокрутки */
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
            font-family: Arial, sans-serif;
        }

        /* Контейнер для прелоадера и iframe */
        #container {
            position: relative;
            width: 100%;
            height: 100%;
        }

        /* Стили для прелоадера */
        #loader {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #f5f5f5;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 100;
            transition: opacity 0.5s;
        }

        #loader.hidden {
            opacity: 0;
            pointer-events: none;
        }

        #loader img {
            width: 100px;
            height: 100px;
            margin-bottom: 20px;
        }

        /* Прогресс-бар */
        #progress-container {
            width: 80%;
            max-width: 400px;
            height: 10px;
            background: #e0e0e0;
            border-radius: 5px;
            overflow: hidden;
        }

        #progress-bar {
            height: 100%;
            width: 0%;
            background: #4CAF50;
            transition: width 0.3s;
        }

        /* Стили для iframe */
        #content-iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
            opacity: 0;
            transition: opacity 0.5s;
        }

        #content-iframe.loaded {
            opacity: 1;
        }
    </style>
</head>
<body>
    <div id="container">
        <!-- Прелоадер с картинкой и прогресс-баром -->
        <div id="loader">
            <img src="https://via.placeholder.com/100x100?text=Loading" alt="Loading...">
            <h2>Загрузка контента...</h2>
            <div id="progress-container">
                <div id="progress-bar"></div>
            </div>
        </div>

        <!-- Основной iframe -->
        <iframe 
            id="content-iframe"
            src="https://viliam-andropov.github.io/qgfjdkdlid654hdk/2025-05-03.html"
            allow="fullscreen"
            onload="iframeLoaded()"
        ></iframe>
    </div>

    <script>
        // Эмулируем прогресс загрузки (можно заменить на реальный)
        function simulateProgress() {
            let progress = 0;
            const progressBar = document.getElementById('progress-bar');
            const interval = setInterval(() => {
                progress += Math.random() * 10;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(interval);
                }
                progressBar.style.width = progress + '%';
            }, 300);
        }

        // Когда iframe загрузился
        function iframeLoaded() {
            const loader = document.getElementById('loader');
            const iframe = document.getElementById('content-iframe');
            
            // Плавно скрываем прелоадер и показываем iframe
            loader.classList.add('hidden');
            iframe.classList.add('loaded');
        }

        // Запускаем анимацию прогресса при загрузке страницы
        window.onload = simulateProgress;
    </script>
</body>
</html>
